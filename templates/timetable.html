{% extends "base.html" %}

{% block title %}My Timetable - Student Portal{% endblock %}

{% block content %}

<div class="card">
    <div style="text-align: center; margin-bottom: 20px;">
        <h2>üìÖ My Weekly Timetable</h2>
        <p style="color: #718096;">Fall Semester 2024 - Class Schedule</p>
    </div>
</div>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="margin: 0;">Weekly Schedule</h3>
        <div style="background: #48bb78; color: white; padding: 5px 12px; border-radius: 15px; font-size: 0.9rem; font-weight: 600;">
            ACTIVE
        </div>
    </div>

    {% if timetable_data %}
    <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <thead>
                <tr style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                    <th style="padding: 15px; text-align: left; font-weight: 600;">Day</th>
                    <th style="padding: 15px; text-align: left; font-weight: 600;">Time</th>
                    <th style="padding: 15px; text-align: left; font-weight: 600;">Course</th>
                    <th style="padding: 15px; text-align: left; font-weight: 600;">Instructor</th>
                    <th style="padding: 15px; text-align: left; font-weight: 600;">Room</th>
                </tr>
            </thead>
            <tbody>
                {% for class in timetable_data %}
                <tr style="border-bottom: 1px solid #e2e8f0; transition: all 0.3s ease;">
                    <td style="padding: 15px; font-weight: 600; color: #2d3748;">
                        {{ class.day }}
                    </td>
                    <td style="padding: 15px; color: #4a5568;">
                        ‚è∞ {{ class.time }}
                    </td>
                    <td style="padding: 15px;">
                        <div style="font-weight: 600; color: #667eea;">{{ class.course_code }}</div>
                        <div style="font-size: 0.9rem; color: #718096;">{{ class.course_name }}</div>
                    </td>
                    <td style="padding: 15px; color: #4a5568;">
                        üë®‚Äçüè´ {{ class.instructor }}
                    </td>
                    <td style="padding: 15px; color: #4a5568;">
                        üè† {{ class.room }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Weekly Overview -->
    <div style="margin-top: 30px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem; font-weight: bold;">{{ timetable_data|length }}</div>
            <div>Weekly Classes</div>
        </div>
        <div style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem; font-weight: bold;">4</div>
            <div>Active Courses</div>
        </div>
        <div style="background: linear-gradient(135deg, #4facfe, #00f2fe); color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem; font-weight: bold;">5</div>
            <div>Study Days</div>
        </div>
        <div style="background: linear-gradient(135deg, #43e97b, #38f9d7); color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2rem; font-weight: bold;">12</div>
            <div>Credit Hours</div>
        </div>
    </div>

    <!-- Course Summary -->
    <div style="margin-top: 30px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #667eea;">
            <h4 style="margin-bottom: 15px; color: #2d3748;">üìö Your Courses</h4>
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li style="padding: 8px 0; border-bottom: 1px solid #e2e8f0;">
                    <strong>CS101</strong> - Introduction to Programming (3 credits)
                </li>
                <li style="padding: 8px 0; border-bottom: 1px solid #e2e8f0;">
                    <strong>MATH201</strong> - Calculus I (4 credits)
                </li>
                <li style="padding: 8px 0; border-bottom: 1px solid #e2e8f0;">
                    <strong>PHY101</strong> - Physics I (4 credits)
                </li>
                <li style="padding: 8px 0;">
                    <strong>ENG101</strong> - English Composition (3 credits)
                </li>
            </ul>
        </div>

        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #48bb78;">
            <h4 style="margin-bottom: 15px; color: #2d3748;">‚Ñπ Timetable Information</h4>
            <div style="line-height: 1.6;">
                <p><strong>Semester:</strong> Fall 2024</p>
                <p><strong>Status:</strong> Active</p>
                <p><strong>Total Credits:</strong> 14</p>
                <p><strong>Academic Level:</strong> Undergraduate</p>
                <p><strong>Last Updated:</strong> November 5, 2024</p>
            </div>
        </div>
    </div>
    
    {% else %}
    <div style="text-align: center; padding: 60px 20px; color: #718096;">
        <div style="font-size: 4rem; margin-bottom: 20px;">üìÖ</div>
        <h3>No Timetable Available</h3>
        <p>Your timetable will be available soon.</p>
    </div>
    {% endif %}
</div>

<!-- Prototype Notice -->
<div class="card" style="background: #fffaf0; border-left: 4px solid #ed8936;">
    <div style="display: flex; align-items: center; gap: 15px;">
        <div style="font-size: 2rem;">üöß</div>
        <div>
            <h4 style="margin: 0 0 5px 0; color: #2d3748;">Prototype Feature</h4>
            <p style="margin: 0; color: #718096;">
                This is a sample timetable for demonstration. The actual timetable will be automatically 
                generated based on your course registrations in the final version.
            </p>
        </div>
    </div>
</div>

<style>
tr:hover {
    background-color: #f7fafc;
    transform: translateX(5px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

@media (max-width: 768px) {
    table {
        font-size: 0.8rem;
    }
    
    th, td {
        padding: 10px 8px !important;
    }
}
</style>
{% endblock %}
