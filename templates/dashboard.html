{% extends "base.html" %}

{% block title %}Dashboard - Student Portal{% endblock %}

{% block content %}

<div class="welcome card">
    <h2>Welcome, {{ student_name }}!</h2>
    <p><strong>Student ID:</strong> {{ session.get('student_code', 'N/A') }}</p>
    <p>Manage your academic journey with our comprehensive student portal.</p>
</div>


<div class="dashboard-cards">
    <div class="dashboard-card">
        <h3>ðŸ“Š My Profile</h3>
        <p>View and update your personal information</p>
        <a href="{{ url_for('profile') }}" class="btn">View Profile</a>
    </div>
    
    <div class="dashboard-card">
        <h3>ðŸ“š Course Registration</h3>
        <p>Browse and register for courses</p>
        <a href="{{ url_for('courses') }}" class="btn">Register Courses</a>
    </div>
    
    <div class="dashboard-card">
        <h3>ðŸŽ“ Academic Grades</h3>
        <p>Check your grades and academic history</p>
        <a href="{{ url_for('grades') }}" class="btn">View Grades</a>
    </div>
    
    <div class="dashboard-card">
        <h3>ðŸ“¢ Announcements</h3>
        <p>Latest news from the university</p>
        <a href="{{ url_for('announcements') }}" class="btn">View Announcements</a>
    </div>
</div>


<div class="card">
    <h3>ðŸ“¢ Recent Announcements</h3>
    {% if announcements %}
        <div class="dashboard-announcements">
            {% for announcement in announcements[:3] %}
            <div class="dashboard-announcement {% if announcement.is_important %}dashboard-important{% endif %}">
                <h4>{{ announcement.title }}</h4>
                <p>{{ announcement.content[:100] }}{% if announcement.content|length > 100 %}...{% endif %}</p>
                <div class="announcement-meta">
                    <span>{{ announcement.created_at.strftime('%b %d') }}</span>
                    {% if announcement.is_important %}
                    <span class="important-tag">Important</span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        <div style="text-align: center; margin-top: 15px;">
            <a href="{{ url_for('announcements') }}" class="btn">View All Announcements</a>
        </div>
    {% else %}
        <p>No recent announcements.</p>
    {% endif %}
</div>

{% endblock %}